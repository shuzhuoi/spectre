# 文档维护指南

本文档说明如何维护 Spectre 项目的文档。

## 📁 文档结构

```
项目根目录/
├── README.md                    # 项目主页（必须）
├── CHANGELOG.md                 # 更新日志（必须）
└── docs/                        # 文档目录
    ├── README.md                # 文档导航（必须）
    ├── dify/                    # Dify 相关文档
    │   ├── QUICK_START_DIFY.md
    │   ├── DIFY_INTEGRATION.md
    │   ├── CONFIG_EXAMPLES.md
    │   ├── DIFY_LIMITATIONS.md
    │   ├── NO_RESULT_IDENTIFIER.md
    │   └── CHANGELOG_DIFY.md
    └── architecture/            # 架构文档
        ├── AGENT.md
        ├── IMPLEMENTATION_SUMMARY.md
        └── SUMMARY.md
```

## 📝 文档分类规则

### 根目录文档（仅保留核心文档）

只保留以下文档在根目录：

1. **README.md** - 项目主页
   - 项目介绍
   - 快速开始
   - 基本配置
   - 文档链接

2. **CHANGELOG.md** - 更新日志
   - 版本历史
   - 变更记录
   - 路线图

### docs/ 目录（详细文档）

所有详细文档都放在 `docs/` 目录下，按类别分类：

#### docs/dify/ - Dify 相关

- 接入指南
- 配置示例
- 限制说明
- 功能说明
- 更新日志

#### docs/architecture/ - 架构文档

- 技术栈分析
- 目录结构
- 实现细节
- 开发总结

#### docs/api/ - API 文档（未来）

- API 参考
- 接口说明
- 类型定义

#### docs/guides/ - 使用指南（未来）

- 进阶教程
- 最佳实践
- 常见问题

## ✍️ 添加新文档

### 1. 确定文档类别

根据文档内容，选择合适的目录：

```bash
# Dify 相关
docs/dify/NEW_FEATURE.md

# 架构相关
docs/architecture/NEW_ARCHITECTURE.md

# 使用指南
docs/guides/NEW_GUIDE.md
```

### 2. 创建文档

使用统一的文档模板：

```markdown
# 文档标题

简短的文档说明（1-2 句话）

## 📋 目录

- [章节 1](#章节-1)
- [章节 2](#章节-2)

## 章节 1

内容...

## 章节 2

内容...

---

**最后更新**：YYYY-MM-DD
```

### 3. 更新索引

在以下文件中添加新文档的链接：

1. **docs/README.md** - 文档导航
2. **README.md** - 如果是重要文档
3. **CHANGELOG.md** - 在对应版本中记录

### 4. 提交变更

```bash
git add docs/
git commit -m "docs: 添加 XXX 文档"
```

## 🔄 更新现有文档

### 1. 修改文档内容

直接编辑对应的 .md 文件

### 2. 更新"最后更新"日期

在文档末尾更新日期：

```markdown
---

**最后更新**：2026-01-07
```

### 3. 记录变更

在 `CHANGELOG.md` 中记录重要的文档更新：

```markdown
### 文档 📚

- 更新了 XXX 文档，添加了 YYY 说明
```

## 🗑️ 删除过时文档

### 1. 评估是否需要删除

- 内容已过时且无法更新
- 功能已移除
- 被新文档替代

### 2. 删除文档

```bash
git rm docs/path/to/OLD_DOC.md
```

### 3. 更新引用

检查并更新所有引用该文档的地方：

- docs/README.md
- README.md
- 其他文档中的链接

### 4. 记录删除

在 `CHANGELOG.md` 中记录：

```markdown
### 移除 🗑️

- 删除了过时的 XXX 文档
```

## 📊 文档质量检查清单

在提交文档前，检查以下项目：

### 内容质量

- [ ] 标题清晰明确
- [ ] 内容准确无误
- [ ] 代码示例可运行
- [ ] 链接有效
- [ ] 图片清晰（如有）

### 格式规范

- [ ] 使用 Markdown 格式
- [ ] 代码块指定语言
- [ ] 标题层级正确
- [ ] 列表格式统一
- [ ] 表格对齐

### 完整性

- [ ] 包含必要的章节
- [ ] 示例完整
- [ ] 有"最后更新"日期
- [ ] 在索引中有链接

### 可读性

- [ ] 语言简洁明了
- [ ] 逻辑清晰
- [ ] 适当使用图标和格式
- [ ] 有代码注释

## 🎨 文档风格指南

### 标题

```markdown
# 一级标题（文档标题）

## 二级标题（主要章节）

### 三级标题（子章节）

#### 四级标题（细节说明）
```

### 图标使用

常用图标：

- 📋 目录、列表
- 🎯 目标、重点
- ✨ 新功能
- 🔧 配置
- 📚 文档
- 💡 提示
- ⚠️ 警告
- ✅ 完成、正确
- ❌ 错误、不推荐
- 🚀 快速、性能
- 🐛 Bug
- 🔍 调试、查找

### 代码块

````markdown
```typescript
// TypeScript 代码
const config: Config = {
  // ...
}
```

```bash
# Shell 命令
pnpm install
```

```json
{
  "key": "value"
}
```
````

### 提示框

```markdown
> 💡 **提示**：这是一个有用的提示

> ⚠️ **警告**：这是一个重要的警告

> ✅ **推荐**：这是推荐的做法
```

### 表格

```markdown
| 列1 | 列2 | 列3 |
|-----|-----|-----|
| 值1 | 值2 | 值3 |
```

## 🔗 链接规范

### 内部链接

```markdown
# 相对路径
[文档名称](./path/to/doc.md)

# 锚点链接
[章节名称](#章节名称)

# 跨目录链接
[其他文档](../other/doc.md)
```

### 外部链接

```markdown
[Vue 3 文档](https://cn.vuejs.org/)
```

## 📅 版本管理

### 文档版本与项目版本同步

- 项目发布新版本时，更新 CHANGELOG.md
- 重大功能更新时，更新相关文档
- 文档版本号与项目版本号保持一致

### 版本号规则

遵循语义化版本：

- **主版本号**：重大变更
- **次版本号**：新功能
- **修订号**：Bug 修复

## 🤝 协作规范

### 提交信息格式

```bash
docs: 添加 XXX 文档
docs: 更新 XXX 文档
docs: 修复 XXX 文档中的错误
docs: 删除过时的 XXX 文档
```

### Pull Request

1. 创建分支：`git checkout -b docs/feature-name`
2. 编写文档
3. 提交变更
4. 创建 PR，说明文档变更内容
5. 等待审核

## 📝 模板

### 功能文档模板

```markdown
# 功能名称

功能的简短描述

## 📋 功能说明

详细说明功能是什么，解决什么问题

## 🎯 使用场景

列举适用的场景

## ⚙️ 配置方法

配置步骤和示例

## 💡 最佳实践

使用建议和技巧

## ❓ 常见问题

Q&A

---

**最后更新**：YYYY-MM-DD
```

### 指南文档模板

```markdown
# 指南标题

指南的简短描述

## 📋 前置条件

需要的准备工作

## 🚀 步骤

### 步骤 1：XXX

详细说明

### 步骤 2：XXX

详细说明

## ✅ 验证

如何验证是否成功

## 🔍 故障排除

常见问题和解决方法

---

**最后更新**：YYYY-MM-DD
```

---

**最后更新**：2026-01-07
